{% extends 'core/home.html' %}
{% load static %}

{% block content %}
<main class="contenido">
     {% if mensaje %}
    <div id="mensaje-exito-registro" style="
        background-color: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 5px;
    ">
        {{ mensaje }}
    </div>
    <script>
    setTimeout(function() {
        var mensajeDiv = document.getElementById('mensaje-exito-registro');
        if (mensajeDiv) {
            mensajeDiv.style.display = 'none';
        }
    }, 5000);
    </script>
{% endif %}
    <div class="form-container">

        
        <form class="formulario" method="POST" novalidate>
            {% csrf_token %}
            <h2>CreaciÃ³n De Cliente</h2>

            {% for field in form %}
                <label for="{{ field.id_for_label }}">{{ field.label }}:</label>
                {{ field }}
                {% for error in field.errors %}
                    <p class="error">{{ error }}</p>
                {% endfor %}
            {% endfor %}

          <button type="submit" class="btn-global" style=" margin-top: 15px;">âœ… Crear Cliente</button>
            <a href="{% url 'index' %}" class="btn-global">ðŸ”™ Volver</a>
        </form>
    </div>
</main>

<style>
    .error {
        color: red;
        font-size: 0.9em;
        margin-top: 3px;
        margin-bottom: 8px;
    }
</style>

<script>

    document.addEventListener("DOMContentLoaded", function() {
        const rutInput = document.getElementById("id_rut");
        if (rutInput) {
            rutInput.addEventListener("input", function() {
                this.value = this.value.replace(/\./g, '');
            });
        }
    });
</script>
{% endblock %}
