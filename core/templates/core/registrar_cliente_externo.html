{% extends 'core/home.html' %}
{% load static %}

{% block content %}
<main class="contenido">

    {% if messages %}
    {% for message in messages %}
    <div id="mensaje-exito-registro" style="
        background-color: {% if message.tags == 'success' %}#d4edda{% else %}#f8d7da{% endif %};
        color: {% if message.tags == 'success' %}#155724{% else %}#721c24{% endif %};
        border: 1px solid {% if message.tags == 'success' %}#c3e6cb{% else %}#f5c6cb{% endif %};
        padding: 10px;
        margin-bottom: 15px;
        border-radius: 5px;
    ">
        {{ message }}
    </div>
    <script>
    setTimeout(function() {
        var mensajeDiv = document.getElementById('mensaje-exito-registro');
        if (mensajeDiv) {
            mensajeDiv.style.display = 'none';
        }
    }, 5000);
    </script>
    {% endfor %}
    {% endif %}

    <div class="form-container">
        <form class="formulario" method="POST" novalidate>
            {% csrf_token %}
            <h2>ðŸ§¾ Registro de Cliente Externo</h2>

            {% for field in form %}
                <div class="mb-3 form-group">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}:</label>
                    {{ field }}
                    <div class="error-text" style="color: red; font-size: 0.9em;"></div>
                    {% for error in field.errors %}
                    <p class="error alerta-grande">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endfor %}

            <button type="submit" class="btn-global" style="margin-top: 15px;">âœ… Registrar Cliente</button>
            <a href="{% url 'asistencia_kine_nutri' %}" class="btn-global" style="margin-top: 15px;">ðŸ”™ Volver</a>
        </form>
    </div>

</main>
{% endblock %}
